---
layout: post
title: JavaScript - BOM
categories: JavaScript
description: JavaScript 和浏览器的交互
keywords: JavaScript
---

浏览器提供了一系列方法和属性和 JavaScript 进行交互，因此称为 BOM (Browser Object Model)

**目录**

* TOC
{:toc}

# Window 对象

表示浏览器窗口，所有 JavaScript 全局对象、函数以及变量均自动成为 window 对象的成员。

DOM 中的 document 对象是 window 的成员之一，因此上一篇 [JavaScript - BOM](https://zoharyips.github.io/2019/07/21/js-DOM) 实际上讲的是 window 的 document 成员对象

* document 成员

    ```js
    <p id="p_window"></p>
    <script>
    a = "This is a global variable.";
    window.document.getElementById("p_window").innerHTML = window.a;
    </script>
    ```

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <p id="p_window" style="text-align:center;"></p>
    </div>

## window 成员变量

1. window.innerHeight：浏览器窗口的内部高度(包括滚动条)

2. window.innerWidth：浏览器窗口的内部宽度(包括滚动条)

    ```js
    <p id="p_window_variable"></p>
    <script>
    document.getElementById("p_window_variable").innerHTML = "Height: " + 
    window.innerHeight + "Width" + window.innerWidth;
    </script>
    ```

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <p id="p_window_variable" style="text-align:center"></p>
    </div>

## window 成员方法

1. window.open()：打开新窗口

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <button onclick="openNewWindow()" style="margin: 12px 0px">Open new Window</button>
    </div>

2. window.focus()：聚焦到窗口

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <button onclick="focusNewWindow()" style="margin: 12px 0px">Focus new Window</button>
    </div>

3. window.moveTo()：移动窗口

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <button onclick="moveNewWindow()" style="margin: 12px 0px">Move new Window</button>
    </div>

4. window.resizeTo()：调整窗口尺寸

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <button onclick="resizeNewWindow()" style="margin: 12px 0px">Resize  new Window</button>
    </div>

5. window.close()：关闭窗口

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <button onclick="closeNewWindow()" style="margin: 12px 0px">Close new Window</button>
    </div>

6. window.alert()：警告框

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <button onclick="tiggerAlert()" style="margin: 12px 0px">Tigger alert box</button>
    </div>

7. window.confirm()：确认框

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <button onclick="tiggerConfirm()" style="margin: 12px 0px">Tigger confirm box</button>
    <p id="p_confirm" style="text-align:center">RESULT</p>
    </div>

8. window.prompt()：提示框

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <button onclick="tiggerPrompt()" style="margin: 12px 0px">Tigger prompt box</button>
    <p id="p_prompt" style="text-align:center">RESULT</p>
    </div>

9. window.setInterval()：计时循环



10. window.clearInterval()：清除计时循环

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <button onclick="tiggerInterval()" style="margin:12px 0px">Tigger interval</button> &nbsp;
    <button onclick="stopInterval()" style="margin: 12px 0px">Stop interval</button>
    <p id="p_clock" style="text-align:center">Tigger to set an interval clock.</p>
    </div>

11. window.setTimeout()：定时器

12. window.clearTimeout()：清除定时器

    <div style="text-align:center; border: 1px solid #ccc;padding:6px 20px;border-radius: 16px;">
    <button onclick="tiggerTimeout()" style="margin:12px 0px">Tigger timeout</button> &nbsp;
    <button onclick="stopTimeout()" style="margin:12px 0px">Stop timeout</button>
    <p id="p_clock" style="text-align:center">Tigger to set a alert after 3 seconds.</p>
    </div>

<script>
a = "This is a global variable.";
var newWindow;
window.document.getElementById("p_window").innerHTML = window.a;
document.getElementById("p_window_variable").innerHTML = "Height: " + 
window.innerHeight + ";\tWidth: " + window.innerWidth;
function openNewWindow(){
    newWindow = window.open('', '', 'width=200, height=100');    
    newWindow.document.write("<p>This is a new Window</p>"); 
}
function focusNewWindow(){newWindow.focus();}
function moveNewWindow(){newWindow.moveTo(500, 100);newWindow.focus();}
function resizeNewWindow(){newWindow.resizeTo(250, 250);newWindow.focus();}
function closeNewWindow(){newWindow.close();}
function tiggerAlert(){window.alert("This is a alert box!")}
function tiggerConfirm(){
    var x;
	var r=confirm("This is a confirm box!");
	if (r==true)
		x="You confirmed!";
	else
		x="You canceled!";
	document.getElementById("p_confirm").innerHTML=x;
}
function tiggerPrompt(){
	var person=prompt("Please input your name: ","zohar");
	if (person!=null && person!=""){
	    document.getElementById("p_prompt").innerHTML="Hello " + person + "!";
	}
}
var interval;
function tiggerInterval(){
    interval = window.setInterval(function(){
        var time = new Date();
        document.getElementById("p_clock").innerHTML=time.toLocaleTimeString();
    }, 1000)
};
function stopInterval(){window.clearInterval(interval);}
var timeout;
function tiggerTimeout(){
	timeout=setTimeout(function(){alert("Now is 3s later.")},3000);
}
function stopTimeout(){clearTimeout(timeout);}
</script>
